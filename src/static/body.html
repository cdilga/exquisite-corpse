<div class="max-w-2xl mx-auto">
  <!-- Landing Screen -->
  <div id="landing-screen" class="dark-card rounded-2xl p-8 fade-in">
    <h1 class="text-5xl font-bold text-center mb-2 bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent">Exquisite Corpse</h1>
    <p class="text-center text-gray-400 mb-8 italic text-lg">Where twisted tales are born from shadows...</p>

    <div class="space-y-4">
      <button id="create-room-btn" class="w-full bg-gradient-to-r from-red-700 hover:from-red-600 to-red-900 hover:to-red-800 text-white font-bold py-4 px-6 rounded-lg transition transform hover:scale-105 button-press shadow-lg hover:shadow-red-900/50">
        Create New Room
      </button>

      <div class="relative">
        <div class="absolute inset-0 flex items-center">
          <div class="w-full border-t border-gray-700"></div>
        </div>
        <div class="relative flex justify-center text-sm">
          <span class="px-2 bg-gradient-to-b from-slate-900 to-slate-800 text-gray-500">or enter existing</span>
        </div>
      </div>

      <div class="flex gap-2">
        <input
          type="text"
          id="room-code-input"
          placeholder="Enter 4-letter room code"
          maxlength="4"
          class="flex-1 px-4 py-3 border-2 border-gray-700 rounded-lg focus:outline-none focus:border-red-600 focus:ring-1 focus:ring-red-600 uppercase text-center text-2xl font-bold tracking-wider bg-slate-800 text-white placeholder-gray-600 transition"
        />
        <button id="join-room-btn" class="bg-gradient-to-r from-red-700 to-red-900 hover:from-red-600 hover:to-red-800 text-white font-bold px-6 rounded-lg transition button-press shadow-lg hover:shadow-red-900/50">
          Join
        </button>
      </div>
    </div>

    <div class="mt-8 p-5 bg-slate-800 rounded-lg border-l-4 border-red-600">
      <h3 class="font-bold text-red-500 mb-3 text-lg">How to Play:</h3>
      <ol class="text-sm text-gray-300 space-y-2 list-decimal list-inside">
        <li>Create a room and share the code with friends</li>
        <li>Configure game length (sentences per player)</li>
        <li>Each player writes a sentence, seeing only the previous one</li>
        <li>Hear the complete twisted tale read aloud!</li>
        <li>Share your dark masterpiece with the world</li>
      </ol>
    </div>
  </div>

  <!-- Lobby Screen -->
  <div id="lobby-screen" class="hidden dark-card rounded-2xl p-8 fade-in">
    <div class="text-center mb-8">
      <h2 class="text-3xl font-bold text-gray-300 mb-3">Your Room Code</h2>
      <div class="text-7xl font-black tracking-widest text-red-600 mb-2" id="room-code-display">----</div>
      <p class="text-gray-400 font-mono">Share this with friends to join the darkness</p>
    </div>

    <div class="bg-slate-700/50 rounded-lg p-5 mb-6 border border-slate-600">
      <h3 class="font-bold text-red-400 mb-4">Players Gathered:</h3>
      <div id="players-list" class="space-y-3"></div>
    </div>

    <!-- Game Settings (Host Only) -->
    <div id="game-settings" class="bg-slate-700/40 rounded-lg p-5 mb-6 border-l-4 border-red-600">
      <h3 class="font-bold text-red-400 mb-4">Game Settings</h3>

      <div class="space-y-4">
        <label class="block">
          <span class="text-sm text-gray-300 font-medium">Sentences per Player:</span>
          <div class="flex gap-2 mt-3 flex-wrap">
            <button class="rounds-btn px-4 py-2 bg-slate-800 border-2 border-slate-600 rounded-lg hover:bg-red-900/30 hover:border-red-600 transition button-press text-gray-300" data-rounds="1">1</button>
            <button class="rounds-btn px-4 py-2 bg-slate-800 border-2 border-slate-600 rounded-lg hover:bg-red-900/30 hover:border-red-600 transition button-press text-gray-300" data-rounds="2">2</button>
            <button class="rounds-btn px-4 py-2 bg-slate-800 border-2 border-slate-600 rounded-lg hover:bg-red-900/30 hover:border-red-600 transition button-press text-gray-300" data-rounds="3">3</button>
            <input type="number" id="custom-rounds" min="1" max="10" placeholder="Custom" class="w-24 px-3 py-2 border-2 border-slate-600 rounded-lg text-center button-press bg-slate-800 text-white placeholder-gray-600 focus:border-red-600 focus:ring-1 focus:ring-red-600/50 transition" />
          </div>
        </label>

        <p class="text-xs text-gray-400">
          <span id="total-turns-preview">? total turns</span>
          (<span id="story-length-preview">? sentences</span> in story)
        </p>
      </div>

      <p class="text-xs text-gray-500 mt-3">Only the host controls these settings</p>
    </div>

    <button id="start-game-btn" class="w-full bg-gradient-to-r from-red-700 to-red-900 hover:from-red-600 hover:to-red-800 text-white font-bold py-4 px-6 rounded-lg transition transform hover:scale-105 button-press shadow-lg hover:shadow-red-900/50 mb-3">
      Begin the Tale
    </button>

    <p class="text-center text-sm text-gray-500">Awaiting host to summon the darkness...</p>
  </div>

  <!-- Game Screen -->
  <div id="game-screen" class="hidden dark-card rounded-2xl p-8 fade-in">
    <!-- Your Turn -->
    <div id="your-turn" class="hidden">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-bold text-red-500">Your Turn...</h2>
        <p class="text-sm text-gray-400">Round <span id="turn-round">1</span>/<span id="total-rounds">1</span></p>
      </div>

      <div id="previous-sentence-container" class="hidden mb-6 p-5 bg-slate-800 rounded-lg border-l-4 border-red-600">
        <p class="text-sm text-red-400 font-semibold mb-2">The Whisper Before:</p>
        <p id="previous-sentence" class="text-gray-200 italic text-lg"></p>
      </div>

      <div id="first-sentence-hint" class="hidden mb-6 p-5 bg-slate-800 rounded-lg border-l-4 border-yellow-600">
        <p class="text-yellow-400 font-semibold">You begin the tale... What shadows will you weave?</p>
      </div>

      <textarea
        id="sentence-input"
        rows="4"
        placeholder="Continue the twisted tale..."
        class="w-full px-4 py-3 border-2 border-slate-600 rounded-lg focus:outline-none focus:border-red-600 focus:ring-1 focus:ring-red-600/50 resize-none bg-slate-800 text-white placeholder-gray-600 transition text-lg"
      ></textarea>

      <div class="flex justify-between items-center mt-6">
        <p class="text-sm text-gray-400">Turn <span id="turn-number">1</span> of <span id="total-turns">?</span></p>
        <button id="submit-sentence-btn" class="bg-gradient-to-r from-red-700 to-red-900 hover:from-red-600 hover:to-red-800 text-white font-bold py-3 px-8 rounded-lg transition transform hover:scale-105 button-press shadow-lg hover:shadow-red-900/50">
          Reveal
        </button>
      </div>
    </div>

    <!-- Waiting Screen -->
    <div id="waiting-turn" class="hidden text-center py-16">
      <div class="text-8xl mb-6 pulse-animation">...</div>
      <h2 class="text-3xl font-bold text-gray-300 mb-3">Waiting for <span id="current-player-name">player</span>...</h2>
      <p class="text-sm text-gray-400 mb-2">Round <span id="waiting-round">1</span>/<span id="waiting-total-rounds">1</span></p>
      <p class="text-gray-400">Turn <span id="waiting-turn-number">1</span> of <span id="waiting-total-turns">?</span></p>
    </div>
  </div>

  <!-- Results Screen -->
  <div id="results-screen" class="hidden dark-card rounded-2xl p-8 fade-in">
    <h2 class="text-4xl font-bold text-center bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent mb-2">The Tale Revealed!</h2>
    <p class="text-center text-gray-400 mb-8 italic">Behold the twisted masterpiece...</p>

    <div id="story-container" class="space-y-4 mb-8"></div>

    <!-- Audio Controls -->
    <div id="audio-controls" class="bg-slate-800 rounded-lg p-5 mb-6 border-l-4 border-red-600">
      <p class="text-sm text-red-400 font-semibold mb-4">Hear the Whispers:</p>
      <div class="flex gap-2 flex-wrap">
        <button id="play-audio-btn" class="flex items-center gap-2 bg-gradient-to-r from-red-700 to-red-900 hover:from-red-600 hover:to-red-800 text-white font-bold py-2 px-4 rounded-lg transition button-press shadow-md">
          Play
        </button>
        <button id="pause-audio-btn" class="hidden flex items-center gap-2 bg-yellow-700 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg transition button-press shadow-md">
          Pause
        </button>
        <button id="stop-audio-btn" class="hidden flex items-center gap-2 bg-red-700 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition button-press shadow-md">
          Stop
        </button>
        <select id="voice-selector" class="px-3 py-2 border-2 border-slate-600 rounded-lg bg-slate-900 text-white button-press focus:border-red-600 focus:ring-1 focus:ring-red-600/50 transition">
          <option class="bg-slate-900">Select voice...</option>
        </select>
      </div>
    </div>

    <!-- Export Options -->
    <div id="export-options" class="bg-slate-800 rounded-lg p-5 mb-6 border-l-4 border-red-600">
      <p class="text-sm text-red-400 font-semibold mb-4">Spread the Darkness:</p>
      <div class="grid grid-cols-2 gap-3">
        <button id="copy-clipboard-btn" class="bg-blue-700 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition button-press text-sm shadow-md">
          Copy Text
        </button>

        <button id="download-txt-btn" class="bg-emerald-700 hover:bg-emerald-600 text-white font-bold py-2 px-4 rounded-lg transition button-press text-sm shadow-md">
          Download .txt
        </button>

        <button id="download-html-btn" class="bg-indigo-700 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg transition button-press text-sm shadow-md">
          Download HTML
        </button>

        <button id="generate-link-btn" class="bg-gradient-to-r from-red-700 to-red-900 hover:from-red-600 hover:to-red-800 text-white font-bold py-2 px-4 rounded-lg transition button-press text-sm shadow-md">
          Share Link
        </button>
      </div>

      <div id="share-link-result" class="hidden mt-4 p-4 bg-slate-900 rounded border-2 border-red-600">
        <p class="text-sm text-gray-300 mb-3">Shareable link created:</p>
        <div class="flex gap-2">
          <input id="share-link-url" type="text" readonly class="flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded text-sm text-gray-300 focus:border-red-600" />
          <button id="copy-share-link-btn" class="bg-red-700 hover:bg-red-600 text-white px-3 py-2 rounded text-sm button-press shadow-md font-bold">
            Copy
          </button>
        </div>
      </div>
    </div>

    <button id="play-again-btn" class="w-full bg-gradient-to-r from-red-700 to-red-900 hover:from-red-600 hover:to-red-800 text-white font-bold py-4 px-6 rounded-lg transition transform hover:scale-105 button-press shadow-lg hover:shadow-red-900/50">
      Weave Another Tale
    </button>
  </div>

  <!-- Error Display -->
  <div id="error-message" class="hidden mt-4 p-4 bg-red-900 border-l-4 border-red-500 text-red-200 rounded fade-in"></div>
</div>
